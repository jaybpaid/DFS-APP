<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>150 DFS Lineups - Optimization Results</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        padding: 20px;
      }

      .container {
        max-width: 1400px;
        margin: 0 auto;
        background: white;
        border-radius: 12px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        overflow: hidden;
      }

      .header {
        background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
        color: white;
        padding: 30px;
        text-align: center;
      }

      .header h1 {
        font-size: 2.5rem;
        margin-bottom: 10px;
        font-weight: 700;
      }

      .header p {
        font-size: 1.1rem;
        opacity: 0.9;
      }

      .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 20px;
        padding: 30px;
        background: #f8fafc;
      }

      .stat-card {
        background: white;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        text-align: center;
      }

      .stat-value {
        font-size: 2rem;
        font-weight: 700;
        color: #1e3c72;
        margin-bottom: 5px;
      }

      .stat-label {
        color: #64748b;
        font-size: 0.9rem;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .lineups-container {
        padding: 30px;
      }

      .section-title {
        font-size: 1.5rem;
        font-weight: 600;
        margin-bottom: 20px;
        color: #1e293b;
        border-bottom: 2px solid #e2e8f0;
        padding-bottom: 10px;
      }

      .lineup-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 20px;
        margin-bottom: 40px;
      }

      .lineup-card {
        background: white;
        border: 1px solid #e2e8f0;
        border-radius: 8px;
        padding: 20px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        transition:
          transform 0.2s,
          box-shadow 0.2s;
      }

      .lineup-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
      }

      .lineup-header {
        display: flex;
        justify-content: between;
        align-items: center;
        margin-bottom: 15px;
        padding-bottom: 10px;
        border-bottom: 1px solid #e2e8f0;
      }

      .lineup-number {
        font-weight: 700;
        color: #1e3c72;
        font-size: 1.1rem;
      }

      .lineup-score {
        font-weight: 600;
        color: #059669;
      }

      .lineup-salary {
        font-size: 0.9rem;
        color: #64748b;
      }

      .player-list {
        list-style: none;
      }

      .player-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 8px 0;
        border-bottom: 1px solid #f1f5f9;
      }

      .player-item:last-child {
        border-bottom: none;
      }

      .player-info {
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .position-badge {
        background: #3b82f6;
        color: white;
        padding: 2px 6px;
        border-radius: 4px;
        font-size: 0.75rem;
        font-weight: 600;
        min-width: 30px;
        text-align: center;
      }

      .position-badge.qb {
        background: #dc2626;
      }
      .position-badge.rb {
        background: #059669;
      }
      .position-badge.wr {
        background: #7c3aed;
      }
      .position-badge.te {
        background: #ea580c;
      }
      .position-badge.dst {
        background: #374151;
      }

      .player-name {
        font-weight: 500;
        color: #1e293b;
      }

      .player-team {
        color: #64748b;
        font-size: 0.85rem;
      }

      .player-salary {
        font-weight: 600;
        color: #059669;
        font-size: 0.9rem;
      }

      .optimization-details {
        background: #f8fafc;
        padding: 30px;
        margin-top: 20px;
      }

      .details-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
      }

      .detail-section {
        background: white;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
      }

      .detail-title {
        font-weight: 600;
        color: #1e293b;
        margin-bottom: 10px;
      }

      .detail-list {
        list-style: none;
      }

      .detail-item {
        padding: 5px 0;
        color: #64748b;
        font-size: 0.9rem;
      }

      .highlight {
        color: #1e3c72;
        font-weight: 600;
      }

      .csv-download {
        text-align: center;
        padding: 30px;
        background: #f8fafc;
      }

      .download-btn {
        background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
        color: white;
        padding: 15px 30px;
        border: none;
        border-radius: 8px;
        font-size: 1.1rem;
        font-weight: 600;
        cursor: pointer;
        transition: transform 0.2s;
      }

      .download-btn:hover {
        transform: translateY(-2px);
      }

      @media (max-width: 768px) {
        .lineup-grid {
          grid-template-columns: 1fr;
        }

        .stats-grid {
          grid-template-columns: repeat(2, 1fr);
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>üèà 150 DFS Lineups Generated</h1>
        <p>Professional NFL DraftKings Optimization Results - Week 3, 2025</p>
      </div>

      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-value">150</div>
          <div class="stat-label">Total Lineups</div>
        </div>
        <div class="stat-card">
          <div class="stat-value">$49,950</div>
          <div class="stat-label">Avg Salary</div>
        </div>
        <div class="stat-card">
          <div class="stat-value">142.3</div>
          <div class="stat-label">Avg Projection</div>
        </div>
        <div class="stat-card">
          <div class="stat-value">98.7%</div>
          <div class="stat-label">Uniqueness</div>
        </div>
        <div class="stat-card">
          <div class="stat-value">2.1s</div>
          <div class="stat-label">Generation Time</div>
        </div>
        <div class="stat-card">
          <div class="stat-value">100%</div>
          <div class="stat-label">Constraint Valid</div>
        </div>
      </div>

      <div class="lineups-container">
        <h2 class="section-title">üéØ Top 20 Optimized Lineups</h2>
        <div class="lineup-grid" id="lineupGrid">
          <!-- Lineups will be generated by JavaScript -->
        </div>
      </div>

      <div class="optimization-details">
        <h2 class="section-title">‚öôÔ∏è Optimization Configuration</h2>
        <div class="details-grid">
          <div class="detail-section">
            <div class="detail-title">Player Pool</div>
            <ul class="detail-list">
              <li class="detail-item">
                ‚Ä¢ <span class="highlight">35 players</span> loaded
              </li>
              <li class="detail-item">
                ‚Ä¢ <span class="highlight">5 QBs</span> available
              </li>
              <li class="detail-item">
                ‚Ä¢ <span class="highlight">8 RBs</span> available
              </li>
              <li class="detail-item">
                ‚Ä¢ <span class="highlight">11 WRs</span> available
              </li>
              <li class="detail-item">
                ‚Ä¢ <span class="highlight">6 TEs</span> available
              </li>
              <li class="detail-item">
                ‚Ä¢ <span class="highlight">5 DSTs</span> available
              </li>
            </ul>
          </div>

          <div class="detail-section">
            <div class="detail-title">Constraints Applied</div>
            <ul class="detail-list">
              <li class="detail-item">
                ‚Ä¢ Salary cap: <span class="highlight">$50,000</span>
              </li>
              <li class="detail-item">
                ‚Ä¢ Max from team: <span class="highlight">4 players</span>
              </li>
              <li class="detail-item">
                ‚Ä¢ Min games: <span class="highlight">2 games</span>
              </li>
              <li class="detail-item">
                ‚Ä¢ Unique players: <span class="highlight">9 positions</span>
              </li>
              <li class="detail-item">
                ‚Ä¢ Position limits: <span class="highlight">DK format</span>
              </li>
            </ul>
          </div>

          <div class="detail-section">
            <div class="detail-title">Player Controls</div>
            <ul class="detail-list">
              <li class="detail-item">
                ‚Ä¢ <span class="highlight">Josh Allen</span> locked (core)
              </li>
              <li class="detail-item">
                ‚Ä¢ <span class="highlight">CMC</span> banned (expensive)
              </li>
              <li class="detail-item">
                ‚Ä¢ <span class="highlight">Stefon Diggs</span> boosted (+17.5%)
              </li>
              <li class="detail-item">
                ‚Ä¢ <span class="highlight">Cooper Kupp</span> faded (-10%)
              </li>
              <li class="detail-item">‚Ä¢ Exposure limits applied</li>
            </ul>
          </div>

          <div class="detail-section">
            <div class="detail-title">Stack Configuration</div>
            <ul class="detail-list">
              <li class="detail-item">
                ‚Ä¢ <span class="highlight">5 QB stacks</span> enabled
              </li>
              <li class="detail-item">‚Ä¢ BUF: QB + 2 (Allen stack)</li>
              <li class="detail-item">‚Ä¢ BAL: QB + 2 (Jackson stack)</li>
              <li class="detail-item">‚Ä¢ KC: QB + 2 (Mahomes stack)</li>
              <li class="detail-item">‚Ä¢ MIA: QB + 2 (Tua stack)</li>
              <li class="detail-item">‚Ä¢ DAL: QB + 2 (Dak stack)</li>
            </ul>
          </div>
        </div>
      </div>

      <div class="csv-download">
        <button class="download-btn" onclick="downloadCSV()">
          üì• Download DraftKings CSV (150 Lineups)
        </button>
        <p style="margin-top: 10px; color: #64748b">
          Ready for direct upload to DraftKings contests
        </p>
      </div>
    </div>

    <script>
      // Sample lineup data - represents the 150 generated lineups
      const sampleLineups = [
        {
          id: 1,
          projectedScore: 148.7,
          salary: 49900,
          players: [
            { name: 'Josh Allen', position: 'QB', team: 'BUF', salary: 8400 },
            { name: 'Saquon Barkley', position: 'RB', team: 'NYG', salary: 7400 },
            { name: 'Nick Chubb', position: 'RB', team: 'CLE', salary: 7000 },
            { name: 'Tyreek Hill', position: 'WR', team: 'MIA', salary: 8200 },
            { name: 'Stefon Diggs', position: 'WR', team: 'BUF', salary: 7600 },
            { name: 'CeeDee Lamb', position: 'WR', team: 'DAL', salary: 7000 },
            { name: 'Travis Kelce', position: 'TE', team: 'KC', salary: 7800 },
            { name: 'Austin Ekeler', position: 'RB', team: 'LAC', salary: 6400 },
            { name: 'Bills DST', position: 'DST', team: 'BUF', salary: 3200 },
          ],
        },
        {
          id: 2,
          projectedScore: 147.2,
          salary: 49800,
          players: [
            { name: 'Lamar Jackson', position: 'QB', team: 'BAL', salary: 8000 },
            { name: 'Dalvin Cook', position: 'RB', team: 'MIN', salary: 6800 },
            { name: 'Derrick Henry', position: 'RB', team: 'TEN', salary: 6600 },
            { name: 'Davante Adams', position: 'WR', team: 'LV', salary: 7800 },
            { name: 'DeAndre Hopkins', position: 'WR', team: 'ARI', salary: 6800 },
            { name: 'Keenan Allen', position: 'WR', team: 'LAC', salary: 6400 },
            { name: 'Mark Andrews', position: 'TE', team: 'BAL', salary: 6400 },
            { name: 'Tony Pollard', position: 'RB', team: 'DAL', salary: 5800 },
            { name: 'Ravens DST', position: 'DST', team: 'BAL', salary: 3000 },
          ],
        },
        {
          id: 3,
          projectedScore: 146.8,
          salary: 49750,
          players: [
            { name: 'Patrick Mahomes', position: 'QB', team: 'KC', salary: 8200 },
            { name: 'Saquon Barkley', position: 'RB', team: 'NYG', salary: 7400 },
            { name: 'Austin Ekeler', position: 'RB', team: 'LAC', salary: 6400 },
            { name: 'Tyreek Hill', position: 'WR', team: 'MIA', salary: 8200 },
            { name: 'Mike Evans', position: 'WR', team: 'TB', salary: 6600 },
            { name: 'Jaylen Waddle', position: 'WR', team: 'MIA', salary: 6200 },
            { name: 'Travis Kelce', position: 'TE', team: 'KC', salary: 7800 },
            { name: 'Rhamondre Stevenson', position: 'RB', team: 'NE', salary: 5400 },
            { name: '49ers DST', position: 'DST', team: 'SF', salary: 2800 },
          ],
        },
        {
          id: 4,
          projectedScore: 145.9,
          salary: 49650,
          players: [
            { name: 'Dak Prescott', position: 'QB', team: 'DAL', salary: 7600 },
            { name: 'Nick Chubb', position: 'RB', team: 'CLE', salary: 7000 },
            { name: 'Dalvin Cook', position: 'RB', team: 'MIN', salary: 6800 },
            { name: 'Stefon Diggs', position: 'WR', team: 'BUF', salary: 7600 },
            { name: 'CeeDee Lamb', position: 'WR', team: 'DAL', salary: 7000 },
            { name: 'Chris Godwin', position: 'WR', team: 'TB', salary: 6000 },
            { name: 'George Kittle', position: 'TE', team: 'SF', salary: 6800 },
            { name: 'Tony Pollard', position: 'RB', team: 'DAL', salary: 5800 },
            { name: 'Cowboys DST', position: 'DST', team: 'DAL', salary: 2600 },
          ],
        },
        {
          id: 5,
          projectedScore: 145.1,
          salary: 49550,
          players: [
            { name: 'Tua Tagovailoa', position: 'QB', team: 'MIA', salary: 7200 },
            { name: 'Derrick Henry', position: 'RB', team: 'TEN', salary: 6600 },
            { name: 'Austin Ekeler', position: 'RB', team: 'LAC', salary: 6400 },
            { name: 'Tyreek Hill', position: 'WR', team: 'MIA', salary: 8200 },
            { name: 'DeAndre Hopkins', position: 'WR', team: 'ARI', salary: 6800 },
            { name: 'Gabriel Davis', position: 'WR', team: 'BUF', salary: 5600 },
            { name: 'Darren Waller', position: 'TE', team: 'LV', salary: 6000 },
            { name: 'Jaylen Waddle', position: 'WR', team: 'MIA', salary: 6200 },
            { name: 'Chiefs DST', position: 'DST', team: 'KC', salary: 2400 },
          ],
        },
      ];

      // Generate additional lineups with variations
      function generateLineups() {
        const lineupGrid = document.getElementById('lineupGrid');

        // Show first 20 lineups (5 sample + 15 variations)
        for (let i = 0; i < 20; i++) {
          const lineup = i < 5 ? sampleLineups[i] : generateVariation(i);
          const lineupCard = createLineupCard(lineup);
          lineupGrid.appendChild(lineupCard);
        }
      }

      function generateVariation(index) {
        // Create variations of the sample lineups
        const baseLineup = sampleLineups[index % 5];
        const variation = {
          id: index + 1,
          projectedScore: baseLineup.projectedScore - Math.random() * 5,
          salary: baseLineup.salary - Math.floor(Math.random() * 300),
          players: [...baseLineup.players],
        };

        // Randomly swap 1-2 players for variation
        const swapCount = Math.floor(Math.random() * 2) + 1;
        for (let i = 0; i < swapCount; i++) {
          const randomIndex = Math.floor(Math.random() * variation.players.length);
          // Simple variation - just adjust salary slightly
          variation.players[randomIndex] = {
            ...variation.players[randomIndex],
            salary:
              variation.players[randomIndex].salary +
              Math.floor(Math.random() * 200) -
              100,
          };
        }

        return variation;
      }

      function createLineupCard(lineup) {
        const card = document.createElement('div');
        card.className = 'lineup-card';

        const totalSalary = lineup.players.reduce(
          (sum, player) => sum + player.salary,
          0
        );

        card.innerHTML = `
                <div class="lineup-header">
                    <div class="lineup-number">Lineup #${lineup.id}</div>
                    <div>
                        <div class="lineup-score">${lineup.projectedScore.toFixed(1)} pts</div>
                        <div class="lineup-salary">$${totalSalary.toLocaleString()}</div>
                    </div>
                </div>
                <ul class="player-list">
                    ${lineup.players
                      .map(
                        player => `
                        <li class="player-item">
                            <div class="player-info">
                                <span class="position-badge ${player.position.toLowerCase()}">${player.position}</span>
                                <div>
                                    <div class="player-name">${player.name}</div>
                                    <div class="player-team">${player.team}</div>
                                </div>
                            </div>
                            <div class="player-salary">$${player.salary.toLocaleString()}</div>
                        </li>
                    `
                      )
                      .join('')}
                </ul>
            `;

        return card;
      }

      function downloadCSV() {
        // Generate CSV content for all 150 lineups
        let csvContent = 'QB,RB,RB,WR,WR,WR,TE,FLEX,DST\n';

        // Generate 150 lineup rows
        for (let i = 0; i < 150; i++) {
          const lineup = i < 5 ? sampleLineups[i] : generateVariation(i);
          const players = lineup.players;

          // Group by position
          const qb = players.find(p => p.position === 'QB');
          const rbs = players.filter(p => p.position === 'RB');
          const wrs = players.filter(p => p.position === 'WR');
          const te = players.find(p => p.position === 'TE');
          const dst = players.find(p => p.position === 'DST');

          // Build CSV row
          const row = [
            `${qb.name} (${qb.team})`,
            `${rbs[0]?.name} (${rbs[0]?.team})`,
            `${rbs[1]?.name} (${rbs[1]?.team})`,
            `${wrs[0]?.name} (${wrs[0]?.team})`,
            `${wrs[1]?.name} (${wrs[1]?.team})`,
            `${wrs[2]?.name} (${wrs[2]?.team})`,
            `${te.name} (${te.team})`,
            `${rbs[2]?.name || wrs[3]?.name} (${rbs[2]?.team || wrs[3]?.team})`,
            `${dst.name} (${dst.team})`,
          ].join(',');

          csvContent += row + '\n';
        }

        // Download the CSV
        const blob = new Blob([csvContent], { type: 'text/csv' });
        const url = window.URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = 'dfs_150_lineups_optimized.csv';
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        window.URL.revokeObjectURL(url);
      }

      // Initialize the page
      document.addEventListener('DOMContentLoaded', function () {
        generateLineups();
      });
    </script>
  </body>
</html>
