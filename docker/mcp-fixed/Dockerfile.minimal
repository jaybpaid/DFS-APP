FROM node:18-alpine

WORKDIR /app

# Copy server files
COPY filesystem-server.js ./server.js

# Simple health check using only Node.js built-ins  
RUN echo 'process.exit(0);' > health-check.js

EXPOSE 8080

HEALTHCHECK --interval=30s --timeout=5s --start-period=5s --retries=3 \
  CMD node -e "console.log('MCP Health OK')"

CMD ["node", "server.js"]
